<html lang="en">
  <head>
    <meta charset="utf-8" />
	<link rel="icon" type="image/x-icon" href="src/img/logo.ico"/>
    <title>脱单指数测试</title>
  </head>
  <body>   
  <div id='loading' class="spinner">
    <div class="dot1"></div>
    <div class="dot2"></div>
  </div>
  <div id='test'>
	<img id='bg' src='src/img/background.jpg' style='z-index:-1;position:absolute;top:0;left:0;width:100%;height:auto;'/>
	<div id='buttons' hidden>
		<img id='onetrue1' src='src/img/button.png' onclick="onetrue()" style='z-index:1;position:absolute;left:18%;width:10%'/>
		<img id='onetrue2' src='src/img/buttonred.png' hidden style='z-index:1;position:absolute;left:18%;width:10%'/>
		<img id='onefalse1' src='src/img/button.png' onclick="onefalse()" style='z-index:1;position:absolute;left:42%;width:10%'/>
		<img id='onefalse2' src='src/img/buttonred.png' hidden style='z-index:1;position:absolute;left:42%;width:10%'/>
  
		<img id='twotrue1' src='src/img/button.png' onclick="twotrue()" style='z-index:1;position:absolute;left:27%;width:10%'/>
		<img id='twotrue2' src='src/img/buttonred.png' hidden style='z-index:1;position:absolute;left:27%;width:10%'/>
		<img id='twofalse1' src='src/img/button.png' onclick="twofalse()" style='z-index:1;position:absolute;left:57%;width:10%'/>
		<img id='twofalse2' src='src/img/buttonred.png' hidden style='z-index:1;position:absolute;left:57%;width:10%'/>
  
		<img id='three1' src='src/img/button.png' data-index="1" onclick="three(this)" style='z-index:1;position:absolute;left:10%;width:9%'/>
		<img id='three1on' src='src/img/buttonred.png' data-index="1" onclick="three(this)" hidden style='z-index:1;position:absolute;left:10%;width:9%'/>
		<img id='three2' src='src/img/button.png' data-index="2" onclick="three(this)" style='z-index:1;position:absolute;left:17%;width:9%'/>
		<img id='three2on' src='src/img/buttonred.png' data-index="2" onclick="three(this)" hidden style='z-index:1;position:absolute;left:17%;width:9%'/>
		<img id='three3' src='src/img/button.png' data-index="3" onclick="three(this)" style='z-index:1;position:absolute;left:24%;width:9%'/>
		<img id='three3on' src='src/img/buttonred.png' data-index="3" onclick="three(this)" hidden style='z-index:1;position:absolute;left:24%;width:9%'/>
		<img id='three4' src='src/img/button.png' data-index="4" onclick="three(this)" style='z-index:1;position:absolute;left:31%;width:9%'/>
		<img id='three4on' src='src/img/buttonred.png' data-index="4" onclick="three(this)" hidden style='z-index:1;position:absolute;left:31%;width:9%'/>
		<img id='three5' src='src/img/button.png' data-index="5" onclick="three(this)" onclick="twotrue()" style='z-index:1;position:absolute;left:38%;width:9%'/>
		<img id='three5on' src='src/img/buttonred.png' data-index="5" onclick="three(this)" hidden style='z-index:1;position:absolute;left:38%;width:9%'/>
		<img id='three6' src='src/img/button.png' data-index="6" onclick="three(this)" style='z-index:1;position:absolute;left:45%;width:9%'/>
		<img id='three6on' src='src/img/buttonred.png' data-index="6" onclick="three(this)" hidden style='z-index:1;position:absolute;left:45%;width:9%'/>
		<img id='three7' src='src/img/button.png' data-index="7" onclick="three(this)" style='z-index:1;position:absolute;left:52%;width:9%'/>
		<img id='three7on' src='src/img/buttonred.png' data-index="7" onclick="three(this)" hidden style='z-index:1;position:absolute;left:52%;width:9%'/>
		<img id='three8' src='src/img/button.png' data-index="8" onclick="three(this)" style='z-index:1;position:absolute;left:59%;width:9%'/>
		<img id='three8on' src='src/img/buttonred.png' data-index="8" onclick="three(this)" hidden style='z-index:1;position:absolute;left:59%;width:9%'/>
		<img id='three9' src='src/img/button.png' data-index="9" onclick="three(this)" style='z-index:1;position:absolute;left:66%;width:9%'/>
		<img id='three9on' src='src/img/buttonred.png' data-index="9" onclick="three(this)" hidden style='z-index:1;position:absolute;left:66%;width:9%'/>
		<img id='three10' src='src/img/button.png' data-index="10" onclick="three(this)" style='z-index:1;position:absolute;left:73%;width:9%'/>
		<img id='three10on' src='src/img/buttonred.png' data-index="10" onclick="three(this)" hidden style='z-index:1;position:absolute;left:73%;width:9%'/>
  
		<img id='four1' src='src/img/button.png' data-index="1" onclick="four(this)" style='z-index:1;position:absolute;left:18%;width:9%'/>
		<img id='four1on' src='src/img/buttonred.png' data-index="1" onclick="four(this)" hidden style='z-index:1;position:absolute;left:18%;width:9%'/>
		<img id='four2' src='src/img/button.png' data-index="2" onclick="four(this)" style='z-index:1;position:absolute;left:25%;width:9%'/>
		<img id='four2on' src='src/img/buttonred.png' data-index="2" onclick="four(this)" hidden style='z-index:1;position:absolute;left:25%;width:9%'/>
		<img id='four3' src='src/img/button.png' data-index="3" onclick="four(this)" style='z-index:1;position:absolute;left:32%;width:9%'/>
		<img id='four3on' src='src/img/buttonred.png' data-index="3" onclick="four(this)" hidden style='z-index:1;position:absolute;left:32%;width:9%'/>
		<img id='four4' src='src/img/button.png' data-index="4" onclick="four(this)" style='z-index:1;position:absolute;left:39%;width:9%'/>
		<img id='four4on' src='src/img/buttonred.png' data-index="4" onclick="four(this)" hidden style='z-index:1;position:absolute;left:39%;width:9%'/>
		<img id='four5' src='src/img/button.png' data-index="5" onclick="four(this)" onclick="twotrue()" style='z-index:1;position:absolute;left:46%;width:9%'/>
		<img id='four5on' src='src/img/buttonred.png' data-index="5" onclick="four(this)" hidden style='z-index:1;position:absolute;left:46%;width:9%'/>
		<img id='four6' src='src/img/button.png' data-index="6" onclick="four(this)" style='z-index:1;position:absolute;left:53%;width:9%'/>
		<img id='four6on' src='src/img/buttonred.png' data-index="6" onclick="four(this)" hidden style='z-index:1;position:absolute;left:53%;width:9%'/>
		<img id='four7' src='src/img/button.png' data-index="7" onclick="four(this)" style='z-index:1;position:absolute;left:60%;width:9%'/>
		<img id='four7on' src='src/img/buttonred.png' data-index="7" onclick="four(this)" hidden style='z-index:1;position:absolute;left:60%;width:9%'/>
		<img id='four8' src='src/img/button.png' data-index="8" onclick="four(this)" style='z-index:1;position:absolute;left:67%;width:9%'/>
		<img id='four8on' src='src/img/buttonred.png' data-index="8" onclick="four(this)" hidden style='z-index:1;position:absolute;left:67%;width:9%'/>
		<img id='four9' src='src/img/button.png' data-index="9" onclick="four(this)" style='z-index:1;position:absolute;left:74%;width:9%'/>
		<img id='four9on' src='src/img/buttonred.png' data-index="9" onclick="four(this)" hidden style='z-index:1;position:absolute;left:74%;width:9%'/>
		<img id='four10' src='src/img/button.png' data-index="10" onclick="four(this)" style='z-index:1;position:absolute;left:81%;width:9%'/>
		<img id='four10on' src='src/img/buttonred.png' data-index="10" onclick="four(this)" hidden style='z-index:1;position:absolute;left:81%;width:9%'/>
  
		<img id='five' src='src/img/button.png' style='z-index:1;position:absolute;left:53%;width:30%'/>
		<input id='gpa' style='z-index:1;position:absolute;left:58%;background-color:transparent;width:20%;height:100px;line-height:100px;font-size:40;text-align:center;border:none'>
  
		<img id='six1' src='src/img/button.png' data-index="1" onclick="six(this)" style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six1on' src='src/img/buttonred.png' data-index="1" onclick="six(this)" hidden style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six2' src='src/img/button.png' data-index="2" onclick="six(this)" style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six2on' src='src/img/buttonred.png' data-index="2" onclick="six(this)" hidden style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six3' src='src/img/button.png' data-index="3" onclick="six(this)" style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six3on' src='src/img/buttonred.png' data-index="3" onclick="six(this)" hidden style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six4' src='src/img/button.png' data-index="4" onclick="six(this)" style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six4on' src='src/img/buttonred.png' data-index="4" onclick="six(this)" hidden style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six5' src='src/img/button.png' data-index="5" onclick="six(this)" onclick="twotrue()" style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six5on' src='src/img/buttonred.png' data-index="5" onclick="six(this)" hidden style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six6' src='src/img/button.png' data-index="6" onclick="six(this)" style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six6on' src='src/img/buttonred.png' data-index="6" onclick="six(this)" hidden style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six7' src='src/img/button.png' data-index="7" onclick="six(this)" style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six7on' src='src/img/buttonred.png' data-index="7" onclick="six(this)" hidden style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six8' src='src/img/button.png' data-index="8" onclick="six(this)" style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six8on' src='src/img/buttonred.png' data-index="8" onclick="six(this)" hidden style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six9' src='src/img/button.png' data-index="9" onclick="six(this)" style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six9on' src='src/img/buttonred.png' data-index="9" onclick="six(this)" hidden style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six10' src='src/img/button.png' data-index="10" onclick="six(this)" style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six10on' src='src/img/buttonred.png' data-index="10" onclick="six(this)" hidden style='z-index:1;position:absolute;left:79%;width:9%'/>
		<img id='six11' src='src/img/button.png' data-index="11" onclick="six(this)" style='z-index:1;position:absolute;left:37%;width:9%'/>
		<img id='six11on' src='src/img/buttonred.png' data-index="11" onclick="six(this)" hidden style='z-index:1;position:absolute;left:37%;width:9%'/>

		<img id='submit' src='src/img/submit.png' onclick="startTest()" style='z-index:1;position:absolute;margin-left:27.5%;width:45%'/>
	</div>
  </div>
  <div id='res' align='center' style='margin-left:5%;margin-right:5%' hidden>
    <img src='src/img/res.jpg' style='z-index:-1;position:absolute;top:0;left:0;width:100%;height:auto;'/>
	<div id='grade' style='z-index:1;position:absolute;left:39%;color:white;font-size:90px'></div>
	<img id='resbutton1' onClick="makefriend()" src='src/img/resbutton1.png' style='z-index:1;position:absolute;left:30%;width:40%;'/>
	<img id='resbutton2' onClick="refresh()" src='src/img/resbutton2.png' style='z-index:1;position:absolute;left:30%;width:40%;'/>
	<img id='resbutton3' onClick="share()" src='src/img/resbutton3.png' style='z-index:1;position:absolute;left:30%;width:40%;'/>
  </div>
  </body>
</html>
<style>
.spinner {
  margin: 100px auto;
  width: 90px;
  height: 90px;
  position: relative;
  text-align: center;
   
  -webkit-animation: rotate 2.0s infinite linear;
  animation: rotate 2.0s infinite linear;
}
 
.dot1, .dot2 {
  width: 60%;
  height: 60%;
  display: inline-block;
  position: absolute;
  top: 0;
  background-color: #67CF22;
  border-radius: 100%;
   
  -webkit-animation: bounce 2.0s infinite ease-in-out;
  animation: bounce 2.0s infinite ease-in-out;
}
 
.dot2 {
  top: auto;
  bottom: 0px;
  -webkit-animation-delay: -1.0s;
  animation-delay: -1.0s;
}
 
@-webkit-keyframes rotate { 100% { -webkit-transform: rotate(360deg) }}
@keyframes rotate { 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg) }}
 
@-webkit-keyframes bounce {
  0%, 100% { -webkit-transform: scale(0.0) }
  50% { -webkit-transform: scale(1.0) }
}
 
@keyframes bounce {
  0%, 100% {
    transform: scale(0.0);
    -webkit-transform: scale(0.0);
  } 50% {
    transform: scale(1.0);
    -webkit-transform: scale(1.0);
  }
}
</style>
<script type="text/javascript">
  var timer = setInterval(function() {
    if (document.getElementById('bg').complete) {
        clearInterval(timer)
		document.getElementById('onetrue1').style.top=0.288*document.body.scrollHeight;
		document.getElementById('onetrue2').style.top=0.288*document.body.scrollHeight;
		document.getElementById('onefalse1').style.top=0.288*document.body.scrollHeight;
		document.getElementById('onefalse2').style.top=0.288*document.body.scrollHeight;
  
		document.getElementById('twotrue1').style.top=0.38*document.body.scrollHeight;
		document.getElementById('twotrue2').style.top=0.38*document.body.scrollHeight;
		document.getElementById('twofalse1').style.top=0.38*document.body.scrollHeight;
		document.getElementById('twofalse2').style.top=0.38*document.body.scrollHeight;
  
		document.getElementById('three1').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three2').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three3').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three4').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three5').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three6').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three7').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three8').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three9').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three10').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three1on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three2on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three3on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three4on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three5on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three6on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three7on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three8on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three9on').style.top=0.47*document.body.scrollHeight;
		document.getElementById('three10on').style.top=0.47*document.body.scrollHeight;
  
		document.getElementById('four1').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four2').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four3').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four4').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four5').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four6').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four7').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four8').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four9').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four10').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four1on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four2on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four3on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four4on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four5on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four6on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four7on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four8on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four9on').style.top=0.532*document.body.scrollHeight;
		document.getElementById('four10on').style.top=0.532*document.body.scrollHeight;
  
		document.getElementById('five').style.top=0.6*document.body.scrollHeight;
		document.getElementById('gpa').style.top=0.63*document.body.scrollHeight;
  
		document.getElementById('six1').style.top=0.715*document.body.scrollHeight;
		document.getElementById('six2').style.top=0.715*document.body.scrollHeight;
		document.getElementById('six3').style.top=0.736*document.body.scrollHeight;
		document.getElementById('six4').style.top=0.736*document.body.scrollHeight;
		document.getElementById('six5').style.top=0.759*document.body.scrollHeight;
		document.getElementById('six6').style.top=0.759*document.body.scrollHeight;
		document.getElementById('six7').style.top=0.782*document.body.scrollHeight;
		document.getElementById('six8').style.top=0.782*document.body.scrollHeight;
		document.getElementById('six9').style.top=0.805*document.body.scrollHeight;
		document.getElementById('six10').style.top=0.805*document.body.scrollHeight;
		document.getElementById('six11').style.top=0.828*document.body.scrollHeight;
		document.getElementById('six1on').style.top=0.715*document.body.scrollHeight;
		document.getElementById('six2on').style.top=0.715*document.body.scrollHeight;
		document.getElementById('six3on').style.top=0.736*document.body.scrollHeight;
		document.getElementById('six4on').style.top=0.736*document.body.scrollHeight;
		document.getElementById('six5on').style.top=0.759*document.body.scrollHeight;
		document.getElementById('six6on').style.top=0.759*document.body.scrollHeight;
		document.getElementById('six7on').style.top=0.782*document.body.scrollHeight;
		document.getElementById('six8on').style.top=0.782*document.body.scrollHeight;
		document.getElementById('six9on').style.top=0.805*document.body.scrollHeight;
		document.getElementById('six10on').style.top=0.805*document.body.scrollHeight;
		document.getElementById('six11on').style.top=0.828*document.body.scrollHeight;
  
		document.getElementById('submit').style.top=0.88*document.body.scrollHeight;
  
		document.getElementById('buttons').style.display='inline';
		document.getElementById('loading').style.visibility="hidden";
    }
  }, 30)
  var TD,APP,HAP,INC,GPA,STFC,res;
  function onetrue(){
    TD=1;
    document.getElementById('onetrue1').style.display='none';
	document.getElementById('onetrue2').style.display='inline';
	document.getElementById('onefalse2').style.display='none';
	document.getElementById('onefalse1').style.display='inline';
  }
  function onefalse(){
    TD=0;
    document.getElementById('onefalse1').style.display='none';
	document.getElementById('onefalse2').style.display='inline';
	document.getElementById('onetrue2').style.display='none';
	document.getElementById('onetrue1').style.display='inline';
  }
  function twotrue(){
    STFC=1;
    document.getElementById('twotrue1').style.display='none';
	document.getElementById('twotrue2').style.display='inline';
	document.getElementById('twofalse2').style.display='none';
	document.getElementById('twofalse1').style.display='inline';
  }
  function twofalse(){
    STFC=0;
    document.getElementById('twofalse1').style.display='none';
	document.getElementById('twofalse2').style.display='inline';
	document.getElementById('twotrue2').style.display='none';
	document.getElementById('twotrue1').style.display='inline';
  }
  function three(e){
	var num=parseInt(e.getAttribute("data-index"))
	HAP=Math.log(num) / Math.log(10);
	for(var i=1;i<=10;i++){
	   if(i<=num){
	     document.getElementById('three'+i).style.display='none';
		 document.getElementById('three'+i+'on').style.display='inline';
	   }
	   else{
	     document.getElementById('three'+i).style.display='inline';
		 document.getElementById('three'+i+'on').style.display='none';
	   }
	}
  }
  function four(e){
	var num=parseInt(e.getAttribute("data-index"))
	APP=Math.log(num) / Math.log(10);
	for(var i=1;i<=10;i++){
	   if(i<=num){
	     document.getElementById('four'+i).style.display='none';
		 document.getElementById('four'+i+'on').style.display='inline';
	   }
	   else{
	     document.getElementById('four'+i).style.display='inline';
		 document.getElementById('four'+i+'on').style.display='none';
	   }
	}
  }
  function six(e){
	var num=parseInt(e.getAttribute("data-index"))
	INC=Math.log(num) / Math.log(10);
	for(var i=1;i<=11;i++){
	   if(i==num){
	     document.getElementById('six'+i).style.display='none';
		 document.getElementById('six'+i+'on').style.display='inline';
	   }
	   else{
	     document.getElementById('six'+i).style.display='inline';
		 document.getElementById('six'+i+'on').style.display='none';
	   }
	}
  }
  function startTest(){ //计算脱单指数
    var grade=document.getElementById('gpa').value;
	if(TD==undefined){
	  alert("请选择是否脱单！")
	}
	else if(STFC==undefined){
	  alert("请选择是否关注公众号“同济吃货小分队”！")
	}
	else if(HAP==undefined){
	  alert("请给自己的幸福指数打分！")
	}
	else if(APP==undefined){
	  alert("请给自己的颜值打分！")
	}
	else if(!grade){
	  alert("请输入您的绩点！")
	}
	else if(parseFloat(grade)<=0||parseFloat(grade)>5){
	  alert("输入的绩点有误！")
	}
	else if(INC==undefined){
	  alert("请选择您的月均生活费！")
	}
	else{
	  GPA=Math.log(parseFloat(grade)) / Math.log(5);
	  res=(0.33*APP+0.30*HAP+0.15*INC+0.11*GPA+0.1*STFC)/0.99621;
	  document.getElementById('test').style.display='none';
	  document.getElementById('res').style.display='inline';
	  document.getElementById('grade').innerHTML=res.toFixed(3);
	  document.getElementById('grade').style.top=0.34*document.body.scrollHeight;
      document.getElementById('resbutton1').style.top=0.48*document.body.scrollHeight;
      document.getElementById('resbutton2').style.top=0.57*document.body.scrollHeight;
      document.getElementById('resbutton3').style.top=0.66*document.body.scrollHeight;
	  window.scrollTo(0,0)
	}
  }
  function refresh(){ //重新测试
    window.location.reload()
  }
  function share(){ //跳转分享
    window.location.href='share.html?res='+res;
  }
  function makefriend(){  //我要脱单
    window.location.href='match.html?info='+res+'&'+APP+'&'+HAP+'&'+INC+'&'+GPA+'&'+STFC;
  }
</script>